<?php//// Конттроллер страницы чтения.//include_once('m/M_User.php');class C_User extends C_Base{	//	// Конструктор.	//    public function action_auth($login, $pass){        $user = new M_User();        if ($user->auth($login, $pass)){            return true;        }else{            return false;        }    }    public function action_reg(){        $this->title .= '::Registration';        if($this->isPost()){            $login = $_POST['user_name'];            $pwd = $_POST['pwd'];            if ($this->action_auth($login, $pwd)){             header('location:index.php?c=user&act=reg&msg=error');            }else{                $user = new M_User();                $user->reg($login, $pwd);                header('location:index.php?msg=success');            }        }         $this->content = $this->Template('v/v_registration.php', array('title' =>  $this->title));    }    public function action_login(){        $this->title .= '::Login';        if($this->isPost()){            $login = $_POST['user_name'];            $pwd = $_POST['pwd'];            if ($this->action_login($login, $pwd)){                header('location:index.php?c=user&act=reg&msg=error');            }else{                $user = new M_User();                $user->reg($login, $pwd);                header('location:index.php?msg=success');            }        }        $this->content = $this->Template('v/v_registration.php', array('title' =>  $this->title));    }    public function action_logout(){        $user = new M_User();        $user->logout();        $text = 'You are logged successfully';        $this->content = $this->Template('v/v_login.php', array('title' =>  $this->title,'text' => $text));    }}